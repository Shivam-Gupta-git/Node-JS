<%- include('../partials/head') %>
<body class="bg-gray-100">
<%- include('../partials/nav') %>

  <!-- Main Content -->
  <main class="p-6">
    <h1 class="text-2xl font-bold">Home</h1>
    <div class="flex flex-row gap-10 justify-center">

      <div class="w-[25%] h-[600px] bg-orange-100 rounded-2xl flex flex-col gap-3 shadow-xl backdrop-blur-md mt-5 overflow-y-auto border">
        
        <!-- Section Title -->
        <div class="w-full px-4 mt-2  sticky top-0 left-0 z-50">
          <h1 class="text-yellow-600 font-bold text-xl">To do</h1>
        </div>
        <% todoItems.forEach((todo) => { %>
          <div class="w-[90%] mx-auto bg-white/70 backdrop-blur-md shadow-xl rounded-3xl px-3 py-3 flex flex-col gap-3 mb-3">
            <h1 class=""><%= todo.TodoItemsName %></h1>
            <div class="flex items-center justify-between">
           <%- include('../partials/progress', {todo: todo}) %>
              <p class="border border-red-200 px-1 py-1 rounded-xl text-gray-500"><%= todo.TodoItemsDate %></p>
            </div>
            <form action="/delete-in-todo/<%= todo.id %>" method="POST">
              <button type="submit" class="bg-red-500 text-white px-4 py-1 rounded-xl hover:bg-red-400 transition">Delete</button>
            </form>
          </div>
        <% }) %>
      </div>

      <div class="w-[25%] h-[600px] bg-purple-100 rounded-2xl flex flex-col gap-3 shadow-xl backdrop-blur-md mt-5 overflow-y-auto border">
        <div class="w-full px-4 mt-2  sticky top-0 left-0 z-50">
          <h1 class="text-purple-800 font-bold text-xl">In Progress</h1>
        </div>
        <%  progressItems.forEach((progressTodo) => { %>
    
          <div class="w-[90%] mx-auto bg-white/70 backdrop-blur-md shadow-xl rounded-3xl px-3 py-3 flex flex-col gap-3 mb-3">
            <h1 class=""><%= progressTodo.TodoItemsName %></h1>
            <div class="flex items-center justify-between">
              <form action="/complete-todo" method="POST">
                <button type="submit" class="bg-purple-500 text-white px-4 py-1 rounded-xl hover:bg-purple-400 transition">Done</button>
                <input type="hidden" name="id" value="<%= progressTodo.id %>">
              </form>
              <p class="border border-red-200 px-1 py-1 rounded-xl text-gray-500"><%= progressTodo.TodoItemsDate %></p>
            </div>
          </div>
    
        <% }) %>
      </div>


      <div class="w-[25%] h-[600px] bg-green-100 rounded-2xl flex flex-col gap-3 shadow-xl backdrop-blur-md mt-5 overflow-y-auto border">
        <div class="w-full px-4 mt-2  sticky top-0 left-0 z-50">
          <h1 class="text-green-600 font-bold text-xl">Done</h1>
        </div>
        <% completeItems.forEach((completeTodo) => { %>
    
          <div class="w-[90%] mx-auto bg-white/70 backdrop-blur-md shadow-xl rounded-3xl px-3 py-3 flex flex-col gap-3 mb-3">
            <h1 class=""><%= completeTodo.TodoItemsName %></h1>
            <div class="flex items-center justify-between">
              <form action="/delete-complete-todo/<%= completeTodo.id %>" method="POST">
                <button type="submit" class="bg-red-500 text-white px-4 py-1 rounded-xl hover:bg-red-400 transition">Delete</button>
              </form>
              <p class="border border-red-200 px-1 py-1 rounded-xl text-gray-500"><%= completeTodo.TodoItemsDate %></p>
            </div>
          </div>
    
        <% }) %>
      </div>
    </div>
  </main>
</body>
</html>